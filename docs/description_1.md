Отчет по 1 этапу: Учебный центр
Проект: Система составления расписаний и ведения данных об учебных курсах.
СУБД: PostgreSQL.
Основные сущности: обучающиеся, преподаватели, компании, курсы, занятия.

1. Сценарии использования (Use Cases)
UC-1. Просмотр списка обучающихся
Цель: получить список всех обучающихся.
Участники: администратор/оператор.
Предусловия: в БД есть записи об обучающихся.
Основной поток:
1. Пользователь открывает страницу “Список обучающихся”.
2. Система отображает список обучающихся с основными полями.
3. Пользователь может открыть карточку обучающегося или перейти к редактированию.
   Страницы: Список обучающихся → Карточка обучающегося.

UC-2. Добавление обучающегося
Цель: добавить нового обучающегося в систему.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает страницу “Список обучающихся”.
2. Нажимает кнопку “Добавить обучающегося”.
3. Система открывает форму ввода данных.
4. Пользователь вводит ФИО.
5. Система сохраняет запись в БД.
6. Пользователь возвращается к списку обучающихся.
   Страницы: Список обучающихся → Форма обучающегося.

UC-3. Редактирование и удаление обучающегося
Цель: изменить или удалить данные обучающегося.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает карточку обучающегося или выбирает действие из списка.
2. Система показывает текущие данные.
3. Пользователь изменяет данные и сохраняет их либо удаляет запись.
4. Система обновляет БД.
   Страницы: Список обучающихся → Карточка обучающегося / Форма обучающегося.

UC-4. Просмотр истории обучения обучающегося
Цель: получить список курсов, на которые записан обучающийся.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает карточку обучающегося.
2. Система загружает информацию о самом обучающемся.
3. Система показывает список курсов, связанных с данным обучающимся.
4. Пользователь может перейти в карточку курса.
   Страницы: Карточка обучающегося → Карточка курса.

UC-5. Запись обучающегося на курс
Цель: занести обучающегося в список слушателей курса.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает карточку обучающегося или карточку курса.
2. Выбирает действие “Записать на курс”.
3. Система показывает список доступных курсов или обучающихся.
4. Пользователь выбирает нужный вариант.
5. Система создает связь между обучающимся и курсом.
   Страницы: Карточка обучающегося → Карточка курса или Карточка курса → Карточка обучающегося.

UC-6. Просмотр списка преподавателей
Цель: получить список преподавателей.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает страницу “Список преподавателей”.
2. Система отображает преподавателей, их ФИО и компанию.
3. Пользователь может открыть карточку преподавателя.
   Страницы: Список преподавателей → Карточка преподавателя.

UC-7. Добавление, редактирование и удаление преподавателя
Цель: поддерживать актуальные сведения о преподавателях.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает список преподавателей.
2. Создает нового преподавателя либо выбирает существующего.
3. Указывает ФИО и компанию.
4. Система сохраняет изменения либо удаляет запись.
   Страницы: Список преподавателей → Форма преподавателя / Карточка преподавателя.

UC-8. Просмотр преподавателей по курсу
Цель: получить список преподавателей, ведущих конкретный курс.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает карточку курса.
2. Система отображает список преподавателей курса.
3. Пользователь может перейти в карточку преподавателя.
   Страницы: Карточка курса → Карточка преподавателя.

UC-9. Просмотр списка курсов
Цель: получить перечень всех курсов.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает страницу “Список курсов”.
2. Система показывает название курса, компанию, тип длительности и интенсивность.
3. Пользователь может открыть карточку курса.
   Страницы: Список курсов → Карточка курса.

UC-10. Добавление, редактирование и удаление курса
Цель: поддерживать актуальные сведения о курсах.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает список курсов.
2. Создает новый курс либо выбирает существующий.
3. Указывает название, компанию, длительность, интенсивность, описание.
4. Система сохраняет изменения либо удаляет курс.
   Страницы: Список курсов → Форма курса / Карточка курса.

UC-11. Составление расписания занятий для курса
Цель: добавить занятия в расписание курса.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает карточку курса.
2. Выбирает действие “Добавить занятие”.
3. Указывает преподавателя, дату и время начала/окончания.
4. Система сохраняет занятие в БД.
5. На странице курса обновляется список занятий.
   Страницы: Карточка курса → Форма занятия.

UC-12. Просмотр расписания преподавателя на заданный интервал
Цель: получить расписание преподавателя за выбранный период.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает страницу поиска расписания.
2. Выбирает преподавателя и временной интервал.
3. Система показывает занятия преподавателя в указанном интервале.
   Страницы: Поиск расписания → Результат расписания преподавателя.

UC-13. Просмотр расписания обучающегося на заданный интервал
Цель: получить расписание обучающегося за выбранный период.
Участники: администратор/оператор.
Основной поток:
1. Пользователь открывает страницу поиска расписания.
2. Выбирает обучающегося и интервал времени.
3. Система показывает занятия этого обучающегося за выбранный период.
   Страницы: Поиск расписания → Результат расписания обучающегося.
4. Перечень страниц приложения и модель содержимого

Страницы:
1. Главная страница (/)
Данные на странице: ссылки на разделы системы: обучающиеся, преподаватели, компании, курсы, расписание.
Действия: переход в нужный раздел.

2. Список обучающихся (/students)
Данные на странице: список обучающихся: students.full_name.
Действия: открыть карточку обучающегося, добавить обучающегося, редактировать обучающегося, удалить обучающегося.

3. Карточка обучающегося (/students/{id})
Данные: students.full_name; список курсов обучающегося: courses.title, companies.name, student_courses.enrolled_at.
Действия: редактировать данные обучающегося, записать на курс, перейти в карточку курса, перейти к расписанию обучающегося.

4. Список преподавателей (/teachers)
Данные: список преподавателей: teachers.full_name, companies.name.
Действия: открыть карточку преподавателя, добавить преподавателя, редактировать преподавателя, удалить преподавателя.

5. Карточка преподавателя (/teachers/{id})
Данные: teachers.full_name, компания: companies.name, список курсов преподавателя: courses.title.
Действия: редактировать преподавателя, перейти к карточке курса, перейти к расписанию преподавателя.

6. Список компаний (/companies)
Данные: список компаний: companies.name, companies.address.
Действия: открыть карточку/форму компании, добавить компанию, редактировать компанию, удалить компанию.

7. Список курсов (/courses)
Данные: список курсов: courses.title, companies.name, courses.duration_type, courses.hours_per_day.
Действия: открыть карточку курса, добавить курс, редактировать курс, удалить курс.

8. Карточка курса (/courses/{id})
Данные: курс: courses.title, courses.description, courses.duration_type, courses.hours_per_day; компания: companies.name; преподаватели курса: teachers.full_name; обучающиеся курса: students.full_name; занятия курса: lessons.start_time, lessons.end_time.
Действия: редактировать курс, добавить занятие, записать обучающегося на курс, перейти в карточку преподавателя, перейти в карточку обучающегося.

9. Форма занятия (/lessons/new или /courses/{id}/lessons/new)
Данные/ввод: курс, преподаватель, дата и время начала, дата и время окончания.
Действия: создать занятие.

10. Поиск расписания (/schedule)
Данные/ввод: тип поиска: по обучающемуся или по преподавателю; выбранный обучающийся или преподаватель; начало интервала; конец интервала.
Действия: показать расписание.

11. Результат расписания (/schedule/result)
Данные: список занятий: lessons.start_time, lessons.end_time, courses.title, teachers.full_name.
Действия: перейти к карточке курса, перейти к карточке преподавателя, вернуться к поиску.

3. Схема навигации
Главная страница → Список обучающихся.
Главная страница → Список преподавателей.
Главная страница → Список компаний.
Главная страница → Список курсов.
Главная страница → Поиск расписания.
Список обучающихся → Карточка обучающегося.
Список обучающихся → Форма добавления/редактирования обучающегося.
Карточка обучающегося → Карточка курса.
Карточка обучающегося → Поиск/результат расписания обучающегося.
Список преподавателей → Карточка преподавателя.
Список преподавателей → Форма добавления/редактирования преподавателя.
Карточка преподавателя → Карточка курса.
Карточка преподавателя → Поиск/результат расписания преподавателя.
Список курсов → Карточка курса.
Список курсов → Форма добавления/редактирования курса.
Карточка курса → Карточка преподавателя.
Карточка курса → Карточка обучающегося.
Карточка курса → Форма занятия.
Поиск расписания → Результат расписания.

4. Схема базы данных и соответствие UI ↔ БД
4.1 Таблицы и поля

companies
id (PK)
name — название компании
address — адрес компании

teachers
id (PK)
full_name — ФИО преподавателя
company_id (FK → companies.id)

students
id (PK)
full_name — ФИО обучающегося

courses
id (PK)
title — название курса
company_id (FK → companies.id)
duration_type — тип длительности курса (DAY, SEVERAL_DAYS, TWO_WEEKS, MONTH)
hours_per_day — интенсивность, часы в день
description — описание курса

course_teachers
course_id (FK → courses.id)
teacher_id (FK → teachers.id)

student_courses
student_id (FK → students.id)
course_id (FK → courses.id)
enrolled_at — дата записи на курс

lessons
id (PK)
course_id (FK → courses.id)
teacher_id (FK → teachers.id)
start_time
end_time

lesson_students
lesson_id (FK → lessons.id)
student_id (FK → students.id)

4.2 Связи между таблицами
companies (1) → (N) teachers
companies (1) → (N) courses
teachers (M) → (N) courses через course_teachers
students (M) → (N) courses через student_courses
courses (1) → (N) lessons
teachers (1) → (N) lessons
students (M) → (N) lessons через lesson_students

4.3 Отображение данных БД на страницы UI
Список обучающихся: students
Карточка обучающегося: students + student_courses + courses + companies
Список преподавателей: teachers + companies
Карточка преподавателя: teachers + companies + course_teachers + courses
Список курсов: courses + companies
Карточка курса: courses + companies + course_teachers + teachers + student_courses + students + lessons
Расписание преподавателя: lessons + courses + teachers
Расписание обучающегося: lesson_students + lessons + courses + teachers

5. Скрипты и сборка
create.sql — создание таблиц и индексов
init.sql — примерное заполнение таблиц
cleanup.sql — очистка БД

Из корня проекта:
ant db-create — создание таблиц в БД
ant db-init — заполнение таблиц начальными данными
ant db-show — показать данные в БД
ant db-clean — очистить БД
ant db-reset — пересоздать БД и заполнить ее начальными данными
